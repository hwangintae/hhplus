# 🏆 lecture_3 주제 : e-commerce

## [1. milestone 작성](src/docs/readme/milestone.md)
## [2. e-커머스 요구사항 분석 (sequence diagram)](src/docs/readme/sequenceDiagram.md)
## [3. ERD 설계 자료](src/docs/readme/erd.md)
## [4. API 명세서 및 Mock API](src/docs/readme/mockApi.md)
## [5. 프로젝트 구조 및 기술 스택](src/docs/readme/projectStructure.md)

### **`STEP 05`**
- [x] 시나리오 선정 및 프로젝트 Milestone 제출
- [x] 시나리오 요구사항 별 분석 자료 제출
  > 시퀀스 다이어그램, 플로우 차트 등
- [x] 자료들을 리드미에 작성 후 PR 링크 제출

### **`STEP 06`**

- [x] ERD 설계 자료 제출
- [x] API 명세 및 Mock API 작성
- [x] 자료들을 리드미에 작성 후 PR링크 제출 ( 채택할 기본 패키지 구조, 기술 스택 등 )

---

## Description
> `e-커머스 상품 주문 서비스`를 구현해 봅니다.
> 상품 주문에 필요한 메뉴 정보들을 구성하고 조회가 가능해야 합니다.
> 사용자는 상품을 여러개 선택해 주문할 수 있고, 미리 충전한 잔액을 이용합니다.
> 상품 주문 내역을 통해 판매량이 가장 높은 상품을 추천합니다.

## Requirements

- 아래 4가지 API 를 구현합니다.
  - 잔액 충전 / 조회 API
  - 상품 조회 API
  - 주문 / 결제 API
  - 인기 판매 상품 조회 API
- 각 기능 및 제약사항에 대해 단위 테스트를 반드시 하나 이상 작성하도록 합니다.
- 다수의 인스턴스로 어플리케이션이 동작하더라도 기능에 문제가 없도록 작성하도록 합니다.
- 동시성 이슈를 고려하여 구현합니다.
- 재고 관리에 문제 없도록 구현합니다.

## API Specs

### 기본과제

1️⃣ **`주요`** **잔액 충전 / 조회 API**

- [ ] 결제에 사용될 금액을 충전하는 API 를 작성합니다.
- [ ] 사용자 식별자 및 충전할 금액을 받아 잔액을 충전합니다.
- [ ] 사용자 식별자를 통해 해당 사용자의 잔액을 조회합니다.

2️⃣ **`기본` 상품 조회 API**

- [ ] 상품 정보 ( ID, 이름, 가격, 잔여수량 ) 을 조회하는 API 를 작성합니다.
- [ ] 조회시점의 상품별 잔여수량이 정확하면 좋습니다.

3️⃣ **`주요`** **주문 / 결제 API**

- [ ] 사용자 식별자와 (상품 ID, 수량) 목록을 입력받아 주문하고 결제를 수행하는 API 를 작성합니다.
- [ ] 결제는 기 충전된 잔액을 기반으로 수행하며 성공할 시 잔액을 차감해야 합니다.
- [ ] 데이터 분석을 위해 결제 성공 시에 실시간으로 주문 정보를 데이터 플랫폼에 전송해야 합니다. ( 데이터 플랫폼이 어플리케이션 `외부` 라는 가정만 지켜 작업해 주시면 됩니다 )

> 데이터 플랫폼으로의 전송 기능은 Mock API, Fake Module 등 다양한 방법으로 접근해 봅니다.


4️⃣ **`기본` 상위 상품 조회 API**

- [ ] 최근 3일간 가장 많이 팔린 상위 5개 상품 정보를 제공하는 API 를 작성합니다.
- [ ] 통계 정보를 다루기 위한 기술적 고민을 충분히 해보도록 합니다.

5️⃣ **`기본` 장바구니 기능**

- [ ] 사용자는 구매 이전에 관심 있는 상품들을 장바구니에 적재할 수 있습니다.
- [ ] 이 기능을 제공하기 위해 `장바구니에 상품 추가/삭제` API 와 `장바구니 조회` API 가 필요합니다.
- [ ] 위 두 기능을 제공하기 위해 어떤 요구사항의 비즈니스 로직을 설계해야할 지 고민해 봅니다.


💡 **KEY POINT**
- [ ] 동시에 여러 주문이 들어올 경우, 유저의 보유 잔고에 대한 처리가 정확해야 합니다.
- [ ] 각 상품의 재고 관리가 정상적으로 이루어져 잘못된 주문이 발생하지 않도록 해야 합니다.

### 4주차 과제

### **`DEFAULT`**

- [ ] 각 시나리오별 하기 **비즈니스 로직** 개발 및 **단위 테스트** 작성
  - [ ] `e-commerce` : 상품 조회, 주문/결제 기능
  - [ ] ~~`concert` : 대기열 발급, 대기순번 조회, 좌석 예약 기능~~

> **단위 테스트** 는 반드시 대상 객체/기능 에 대한 의존성만 존재해야 함
>

### **`STEP07`**

- [ ] API Swagger 기능 구현 및 캡쳐본 첨부 ( Readme )
- [ ] 주요 비즈니스 로직 개발 및 단위 테스트 작성

### **`STEP08`**

- [ ] 비즈니스 Usecase 개발 및 통합 테스트 작성

> API 의 완성이 목표가 아닌, 기본 및 주요 기능의 비즈니스 로직 및 유즈케이스는 구현이 완료 되어야 함. ( `Business Layer` )
>

> DB Index , 대용량 처리를 위한 개선 포인트 등은 추후 챕터에서 진행하므로 목표는 `기능 개발의 완료` 로 합니다. 최적화 작업 등을 고려하는 것 보다 모든 기능을 정상적으로 제공할 수 있도록 해주세요. 특정 기능을 왜 이렇게 개발하였는지 합당한 이유와 함께 기능 개발을 진행해주시면 됩니다.
>