# 장애 대응 문서

본 문서는 황인태요 이커머스 시스템 운영 중 예상치 못한 장애 상황에서 빠르고 체계적으로 대응하기 위한 장애 대응 가이드 임.

---

## 1. 장애 정의

| **장애 수준** | **설명**                                 |
|-----------|----------------------------------------|
| **Critical** | 서비스 전체 중단 또는 사용자 전원이 영향을 받는 상황.        |
| **Major** | 특정 주요 기능이 작동하지 않아 사용자 경험에 큰 영향을 미치는 상황. |
| **Minor** | 일부 비핵심 기능에서 성능 저하 또는 일시적인 장애가 발생한 상황.  |

---

## 2. 장애 발생 시 기본 절차

| **단계**        | **설명**                                    |
|---------------|-------------------------------------------|
| **장애 감지**     | 모니터링을 통해 성능 이상 감지. |
| **장애 신고**     | Slack을 통해 장애 보고. 필수 정보: 발생 시간, 증상, 영향 범위. |
| **장애 대응팀 소집** | 개발팀과 인프라팀에 즉시 연락. 주요 담당자 연락처 참고.          |
| **장애 조사**     | 로그 분석 및 네트워크 상태, 데이터베이스 부하 점검.            |
| **임시 조치**     | 서버 재시작, 트래픽 제한 등 즉각적인 대응 시행.              |
| **완전 복구**     | 근본 원인 제거 및 서비스 정상화.                       |
| **장애 보고**     | 장애 원인, 조치 내용, 복구 시간 등의 정보 포함하여 보고서 작성.    |

* 담당자 : 이석범 (010-oooo-oooo), 황인태 (010-xxxx-xxxx)
---

## 3. 장애별 대응 프로세스

### **3.1 인기 상품 조회 장애 (`GET /api/orders/popular`)**

| **항목**    | **내용**                                    |
|-----------|-------------------------------------------|
| **증상**    | 응답 시간이 1초 이상 지속되며 요청 실패 발생 가능.|
| **점검 항목** | 데이터베이스 쿼리 성능, Redis와 같은 캐싱 시스템 적용 여부 점검.  |
| **근본 조치** | 쿼리 최적화(인덱스 추가), 캐싱 시스템 점검 또는 기존 캐싱 전략 개선. |

---

### **3.2 주문 상태 조회 장애 (`GET /api/orders/status`)**

| **항목**    | **내용**                                    |
|-----------|-------------------------------------------|
| **증상**    | 응답 시간이 1초 이상 지속되며 요청 실패 발생 가능.|
| **점검 항목** | 데이터베이스 쿼리 성능, Redis와 같은 캐싱 시스템 적용 여부 점검.  |
| **근본 조치** | 쿼리 최적화(인덱스 추가) |

---

## 4. 모니터링 확인

| **항목**        | **경로 또는 도구**          |
|---------------|-----------------------|
| **모니터링 도구**   | http://localhost:9999 |

---

## 5. 복구 확인 및 보고

| **단계**           | **설명**                                     |
|------------------|--------------------------------------------|
| **로그 및 모니터링 확인** | 복구 후 에러 로그 및 모니터링 툴로 점검.                   |
| **복구 보고**        | 장애 원인, 대응 내용, 복구 시간, 추가 개선 사항 포함하여 보고서 작성. |

---

## 6. 사후 회고

| **항목**       | **내용**                                             |
|--------------|----------------------------------------------------|
| **근본 원인 분석** | 장애 원인의 근본적 원인 분석.                                  |
| **개선 방안**    | 부하 테스트 주기적 실행, 특정 API 성능 개선 작업 수행, 장애 대응 매뉴얼 보완 및 팀 교육. |